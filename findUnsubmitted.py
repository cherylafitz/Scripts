#A list of Submitted RefCodes
submitted = ['FCDM2828',
'CTHW3635',
'YDCT7848',
'DSEX8151',
'ARKR6317',
'PXQP6938',
'ZWAH4898',
'VZQT1413',
'PQCU5172',
'VCDK7381',
'GUSE1282',
'JDAH2566',
'VJPC8546',
'EBGU7382',
'VEHB1561',
'CNKM7315',
'MNJF3356',
'QWKN1623',
'FHMM3543',
'PJQH1785',
'GPKG2651',
'HMYZ7561',
'BEPY6184',
'NXCX2679',
'GNXE9164',
'KBQH2614',
'BXNS1454',
'BQRT5936',
'MHYZ5267',
'SRDW5233',
'AFBS9675',
'PWUA2415',
'STBU3937',
'EXKY1725',
'TJSA6854',
'ZXRW4624',
'EMCE6824',
'JMKB5115',
'SUBH3944',
'TPWQ9723',
'SXZK5148',
'BKEZ1239',
'YGFD4436',
'HXAB1854',
'DGNP4835',
'PZAG1163',
'ZGEF8696',
'DBCX8998',
'RZNX1915',
'WFNK8313',
'HQZV8841',
'XZCM6955',
'KGNJ2326',
'GFFE3788',
'XWAG3511',
'UEKJ1183',
'NGNR5539',
'QXQN4917',
'QUJN8585',
'PSJF6229',
'ERSA6985',
'RSSN3464',
'KQWT3922',
'AAAG2584',
'FGRZ2112',
'NJQH1178',
'VNAM3472',
'RZQT9172',
'CVDU9113',
'GVJX8971',
'SHCU1289',
'FZEY2231',
'FBSK1722',
'WDFC6453',
'GZEM8767',
'JMTV2595',
'GJZD3881',
'SDND2626',
'HFDN5293',
'NGDD5299',
'ATUT3371',
'PCCF4819',
'ZVPS2744',
'QMWX6343',
'UTGJ4584',
'JEWG5532',
'WZTP7349',
'PDCR3467',
'BXJN3222',
'HTJK8268',
'FHZR4641',
'ACVZ1757',
'QQGT6111',
'AFCS5986',
'BGHR8119',
'JWUF1593',
'UDCV1554',
'DMQM2518',
'UCKK3262',
'APQT2995',
'AQEE4737',
'YFCC4161',
'AZWN9682',
'BZEM3611',
'UABD8718',
'SUAP1266',
'XUNU7871',
'UTMC4724',
'AUPP9779',
'CYZT9952',
'RBZF6688',
'XUEZ5251',
'KTTT4283',
'CDAX2643',
'ZZDW8889',
'WETH9238',
'NQVQ3279',
'FRXJ3931',
'TXGD8298',
'NGQZ5396',
'HSMY4833',
'FNXK9888',
'ESPP3721',
'XCRG1226',
'JBHY7317',
'QTFM1554',
'SQGD8547',
'KFKV1633',
'JWMJ4128',
'ACZN4521',
'MXXN2832',
'KNZS4679',
'BSGC5764',
'NSUR3481',
'NCPX9112',
'SAMR3915',
'ZKHY9967',
'NVYS1861',
'CXYN3432',
'RATH5755',
'GDAN8483',
'PUNH6893',
'JDCX9623',
'GKUF1981',
'KWTX6982',
'JHJR5336',
'XPUF1787',
'EQQU1288',
'FSME4178',
'XFTN3839',
'FGNZ9841',
'NJCU6534',
'TMJK3958',
'NQVW5214',
'DHSN4468',
'DWXH2459',
'VGTT3583',
'RGHG8153',
'JMSS7417',
'YRHB8267',
'MRAA7123',
'HMKQ5631',
'YYWY6415',
'ABSR7865',
'BVZK6538',
'ZRTZ2272',
'CYUM6664',
'EZPK9286',
'XRRE9835',
'NPGF8163',
'NNZJ7831',
'NHFK4972',
'VYUY5764',
'FAZE9213',
'CAHK7589',
'MBDG3976',
'FDPJ4193',
'NBUH6553',
'DXAK2344',
'UWWF7652',
'TFWR3414',
'ZWNZ7671',
'GAJW4995',
'ZKDC3779',
'ZTTB2883',
'JTAC4334',
'SBQV2479',
'AKKD7913',
'SKYB8233',
'MJZH2742',
'NJDP2787',
'EEPQ1462',
'TSPM8295',
'KJMX6668',
'EFWV7314',
'TUJS5399',
'YVGN7888',
'PNJA4145',
'MRGB1741',
'GWHJ7642',
'SWFC5548',
'EZSC7116',]

def extractReferenceCode(filename):
    '''
    takes filename as string
    returns reference code as string in format AAAA1111
    '''
    regex = re.compile('[A-Z]{4}[\d]{4}')
    result = regex.findall(filename)
    print result
    print len(result)
    if len(result) != 1:
        raise Exception
    if len(result[0]) != 8:
        raise Exception
    return result[0]

def getFiles():
    return [file for file in os.listdir('.')]

def getAllRefCodes():
    outputList = []
    for filename in getFiles():
        try:
            outputList.append(extractReferenceCode(filename))
        except:
            print(str(filename + " problem")
    return outputList

def findProblems():
    # allRefCodes = getAllRefCodes()
    outputList = []
    for filename in getFiles():
        if extractReferenceCode(filename) not in submitted:
            outputList.append(filename)
    return outputList

